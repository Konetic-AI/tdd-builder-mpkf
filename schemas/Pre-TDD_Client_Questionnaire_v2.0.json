{
  "version": "2.0",
  "stages": ["core", "review", "deep_dive"],
  "complexity_levels": ["base", "minimal", "standard", "comprehensive", "enterprise"],
  "questions": [
    {
      "id": "doc.version",
      "stage": "core",
      "type": "text",
      "question": "What is the TDD version?",
      "hint": "Version number for this TDD document.",
      "help": {
        "why": "Version tracking helps teams manage document updates, track changes over time, and maintain clear communication about which iteration of the design is being discussed.",
        "examples": {
          "1.0": "Initial release version",
          "1.0.0": "Semantic versioning format",
          "2.1-draft": "Draft version with major.minor notation",
          "v3.0": "Version with 'v' prefix"
        },
        "learnMore": "https://docs.mpkf.io/versioning"
      },
      "validation": { 
        "type": "string", 
        "minLength": 1,
        "maxLength": 50
      },
      "tags": ["foundation"],
      "skip_if": null
    },
    {
      "id": "project.name",
      "stage": "core",
      "type": "text",
      "question": "What is the official name for this project?",
      "hint": "Keep it concise and memorable.",
      "help": {
        "why": "A clear project name helps stakeholders identify and discuss the project, appears in documentation, and is used for file naming and repository organization.",
        "examples": {
          "Customer Portal v2": "Customer-facing web application",
          "Payment Gateway": "Financial transaction processing system",
          "Analytics Dashboard": "Data visualization and reporting tool",
          "Mobile App Backend": "Server-side API for mobile applications"
        },
        "learnMore": "https://docs.mpkf.io/naming-conventions"
      },
      "validation": { 
        "type": "string", 
        "minLength": 3,
        "maxLength": 100
      },
      "tags": ["foundation"],
      "skip_if": null
    },
    {
      "id": "summary.problem",
      "stage": "core",
      "type": "textarea",
      "question": "In one or two sentences, what is the core problem this project solves?",
      "hint": "Be specific about the problem you're addressing.",
      "help": {
        "why": "Clearly defining the problem ensures alignment among stakeholders and provides context for all design decisions. It helps prevent scope creep and keeps the team focused on solving the right issues.",
        "examples": {
          "Search Issue": "Users struggle to find relevant products because the current search is keyword-only and doesn't understand intent.",
          "Invoice Processing": "Manual invoice processing takes 3-5 days and is error-prone, costing the company $50k annually in corrections.",
          "Support Efficiency": "Customer support can't access user order history quickly, leading to 10-minute call times and poor satisfaction."
        },
        "learnMore": "https://docs.mpkf.io/problem-definition"
      },
      "validation": { 
        "type": "string", 
        "minLength": 10,
        "maxLength": 500
      },
      "tags": ["foundation"],
      "skip_if": null
    },
    {
      "id": "summary.solution",
      "stage": "core",
      "type": "textarea",
      "question": "Describe the solution you envision at a high level.",
      "hint": "What is your proposed approach to solving the problem?",
      "help": {
        "why": "The solution overview establishes the technical direction and helps stakeholders understand the approach before diving into details. It serves as a reference point for evaluating whether implementation details align with the vision.",
        "examples": {
          "AI Search": "Build an AI-powered search engine using semantic embeddings to understand user intent and return contextually relevant results.",
          "Automated Processing": "Implement an automated invoice processing pipeline using OCR and machine learning to extract data and validate it against purchase orders.",
          "Data Platform": "Create a unified customer data platform that aggregates order history, support tickets, and profile data in real-time for support agents."
        },
        "learnMore": "https://docs.mpkf.io/solution-design"
      },
      "validation": { 
        "type": "string", 
        "minLength": 10,
        "maxLength": 500
      },
      "tags": ["foundation"],
      "skip_if": null
    },
    {
      "id": "project.description",
      "stage": "core",
      "type": "textarea",
      "question": "Provide a brief description of your project",
      "hint": "What problem does this solve? Who is it for?",
      "help": {
        "why": "A comprehensive description provides context for new team members, stakeholders, and future maintainers. It should communicate the project's purpose, target users, and expected outcomes.",
        "examples": {
          "Marketing Dashboard": "A web-based dashboard for marketing teams to track campaign performance across multiple channels, with real-time analytics and automated reporting.",
          "HR Onboarding Tool": "An internal tool for HR to streamline employee onboarding, including automated account creation, equipment provisioning, and training schedule management."
        },
        "learnMore": "https://docs.mpkf.io/project-description"
      },
      "validation": { 
        "type": "string", 
        "minLength": 10,
        "maxLength": 500
      },
      "tags": ["foundation"],
      "skip_if": null
    },
    {
      "id": "deployment.model",
      "stage": "core",
      "type": "select",
      "question": "Where will this be deployed?",
      "options": ["cloud", "on-premise", "hybrid"],
      "help": {
        "why": "Deployment model affects architecture decisions, cost structure, scalability options, security requirements, and operational complexity. Cloud offers flexibility and managed services, on-premise offers control, and hybrid balances both.",
        "examples": {
          "cloud": "Deploy to AWS/Azure/GCP for scalability and managed services",
          "on-premise": "Run in company datacenter for regulatory compliance",
          "hybrid": "Critical data on-premise, compute workloads in cloud"
        },
        "learnMore": "https://docs.mpkf.io/deployment-models"
      },
      "validation": { 
        "enum": ["cloud", "on-premise", "hybrid"] 
      },
      "tags": ["architecture", "operations"],
      "triggers": {
        "cloud": ["cloud.provider", "cloud.regions"],
        "on-premise": ["datacenter.location"],
        "hybrid": ["cloud.provider", "datacenter.location"]
      }
    },
    {
      "id": "cloud.provider",
      "stage": "core",
      "type": "select",
      "question": "Which cloud provider will you use?",
      "options": ["aws", "azure", "gcp", "other"],
      "help": {
        "why": "Cloud provider choice affects service availability, pricing models, regional options, and integration capabilities with your existing tools and infrastructure.",
        "examples": {
          "aws": "Amazon Web Services - largest provider with most services",
          "azure": "Microsoft Azure - best for Microsoft ecosystem integration",
          "gcp": "Google Cloud Platform - strong in AI/ML and data analytics"
        },
        "learnMore": "https://docs.mpkf.io/cloud-providers"
      },
      "validation": { 
        "enum": ["aws", "azure", "gcp", "other"] 
      },
      "tags": ["architecture", "operations"],
      "skip_if": "deployment.model != 'cloud' && deployment.model != 'hybrid'"
    },
    {
      "id": "cloud.regions",
      "stage": "core",
      "type": "multi-select",
      "question": "Which regions will you deploy to?",
      "options": ["us-east-1", "us-west-2", "eu-west-1", "ap-southeast-1", "other"],
      "help": {
        "why": "Region selection impacts latency for end users, data sovereignty compliance, disaster recovery capabilities, and service availability.",
        "examples": {
          "us-east-1": "US East (N. Virginia) - most AWS services, lowest cost",
          "eu-west-1": "Europe (Ireland) - GDPR compliance, EU data residency",
          "ap-southeast-1": "Asia Pacific (Singapore) - low latency for Asian users"
        },
        "learnMore": "https://docs.mpkf.io/region-selection"
      },
      "validation": { 
        "type": "array",
        "minItems": 1
      },
      "tags": ["architecture", "operations"],
      "skip_if": "deployment.model != 'cloud' && deployment.model != 'hybrid'"
    },
    {
      "id": "datacenter.location",
      "stage": "core",
      "type": "text",
      "question": "Where is your datacenter located?",
      "help": {
        "why": "Datacenter location affects disaster recovery planning, compliance with data residency laws, network latency, and operational procedures.",
        "examples": {
          "Ashburn, VA": "Primary datacenter location",
          "London, UK": "European datacenter for GDPR compliance",
          "Tokyo, Japan": "Asia-Pacific regional datacenter"
        },
        "learnMore": "https://docs.mpkf.io/datacenter-planning"
      },
      "validation": { 
        "type": "string", 
        "minLength": 3
      },
      "tags": ["architecture", "operations"],
      "skip_if": "deployment.model != 'on-premise' && deployment.model != 'hybrid'"
    },
    {
      "id": "security.auth",
      "stage": "core",
      "type": "multi-select",
      "question": "What authentication methods will you support?",
      "options": ["oauth2", "saml", "basic-auth", "api-key", "mfa"],
      "help": {
        "why": "Authentication determines how users prove their identity. The choice affects user experience, security posture, integration complexity, and compliance requirements. Modern systems often support multiple methods for different use cases.",
        "examples": {
          "oauth2": "Social login (Google, GitHub) or enterprise SSO",
          "saml": "Enterprise SSO for large organizations",
          "basic-auth": "Simple username/password authentication",
          "api-key": "Service-to-service authentication",
          "mfa": "Additional security layer (SMS, TOTP, biometric)"
        },
        "learnMore": "https://auth0.com/docs/authenticate/protocols"
      },
      "validation": { 
        "type": "array",
        "minItems": 1
      },
      "tags": ["security"],
      "skip_if": null
    },
    {
      "id": "security.controls",
      "stage": "review",
      "type": "multi-select",
      "question": "What security controls are required?",
      "options": ["encryption-at-rest", "encryption-in-transit", "audit-logging", "access-control", "vulnerability-scanning"],
      "help": {
        "why": "Security controls protect your system from threats, ensure compliance with regulations, and build trust with users and stakeholders.",
        "examples": {
          "encryption-at-rest": "Protect stored data using AES-256 encryption",
          "encryption-in-transit": "Use TLS 1.3 for all network communications",
          "audit-logging": "Track all system access and data changes for compliance"
        },
        "learnMore": "https://docs.mpkf.io/security-controls"
      },
      "validation": { 
        "type": "array",
        "minItems": 1
      },
      "tags": ["security"],
      "skip_if": null
    },
    {
      "id": "privacy.pii",
      "stage": "core",
      "type": "boolean",
      "question": "Will this system handle personally identifiable information (PII)?",
      "help": {
        "why": "Systems handling PII require additional security controls, privacy protections, and often regulatory compliance. This triggers questions about data encryption, retention policies, user consent, and right-to-deletion capabilities.",
        "examples": {
          "Direct Identifiers": "Names, email addresses, phone numbers, social security numbers, addresses",
          "Financial Data": "Credit card numbers, bank account information, transaction history",
          "Sensitive Data": "Biometric data, health records, IP addresses (in some jurisdictions)"
        },
        "learnMore": "https://gdpr.eu/eu-gdpr-personal-data/"
      },
      "validation": { 
        "type": "boolean" 
      },
      "tags": ["privacy", "security"],
      "triggers": {
        "true": ["privacy.controls", "privacy.regulations"]
      }
    },
    {
      "id": "privacy.controls",
      "stage": "review",
      "type": "multi-select",
      "question": "What privacy controls are needed?",
      "options": ["data-masking", "anonymization", "right-to-deletion", "consent-management", "data-retention-policies"],
      "help": {
        "why": "Privacy controls ensure compliance with data protection laws, protect user rights, and minimize legal and reputational risks from data breaches.",
        "examples": {
          "data-masking": "Hide sensitive fields in logs and non-production environments",
          "right-to-deletion": "Allow users to request permanent deletion of their data (GDPR Article 17)",
          "consent-management": "Track and honor user consent preferences for data processing"
        },
        "learnMore": "https://docs.mpkf.io/privacy-controls"
      },
      "validation": { 
        "type": "array",
        "minItems": 1
      },
      "tags": ["privacy"],
      "skip_if": "privacy.pii != true"
    },
    {
      "id": "privacy.regulations",
      "stage": "review",
      "type": "multi-select",
      "question": "Which regulations must you comply with?",
      "options": ["gdpr", "hipaa", "ccpa", "sox", "pci-dss", "none"],
      "help": {
        "why": "Regulatory compliance requirements drive technical architecture, security controls, audit trails, and operational procedures. Non-compliance can result in significant fines and legal consequences.",
        "examples": {
          "gdpr": "EU data protection law - applies to EU citizens' data worldwide",
          "hipaa": "US healthcare data protection - required for medical records",
          "pci-dss": "Payment card security standard - required for credit card processing"
        },
        "learnMore": "https://docs.mpkf.io/compliance-regulations"
      },
      "validation": { 
        "type": "array",
        "minItems": 1
      },
      "tags": ["privacy", "security"],
      "skip_if": "privacy.pii != true"
    },
    {
      "id": "operations.monitoring",
      "stage": "review",
      "type": "multi-select",
      "question": "What monitoring capabilities do you need?",
      "options": ["metrics", "logging", "tracing", "alerting", "apm"],
      "help": {
        "why": "Monitoring provides visibility into system health, enables rapid incident response, supports capacity planning, and helps meet SLA commitments.",
        "examples": {
          "metrics": "Track CPU, memory, response times, error rates (Prometheus, CloudWatch)",
          "logging": "Centralized log aggregation for debugging (ELK, Splunk)",
          "apm": "Application Performance Monitoring - trace requests across services (Datadog, New Relic)"
        },
        "learnMore": "https://docs.mpkf.io/monitoring"
      },
      "validation": { 
        "type": "array",
        "minItems": 1
      },
      "tags": ["operations"],
      "skip_if": null
    },
    {
      "id": "operations.sla",
      "stage": "review",
      "type": "select",
      "question": "What is your target availability SLA?",
      "options": ["99.9", "99.95", "99.99", "99.999"],
      "help": {
        "why": "SLA commitments drive architecture decisions around redundancy, failover, monitoring, and incident response. Higher SLAs require more sophisticated infrastructure and operational processes.",
        "examples": {
          "99.9": "~8.7 hours downtime/year - suitable for internal tools",
          "99.95": "~4.4 hours downtime/year - standard for business applications",
          "99.99": "~52 minutes downtime/year - required for critical systems",
          "99.999": "~5 minutes downtime/year - mission-critical, requires multi-region"
        },
        "learnMore": "https://docs.mpkf.io/sla-planning"
      },
      "validation": { 
        "enum": ["99.9", "99.95", "99.99", "99.999"] 
      },
      "tags": ["operations"],
      "skip_if": null
    },
    {
      "id": "architecture.scale",
      "stage": "deep_dive",
      "type": "select",
      "question": "What is your expected scale?",
      "options": ["small", "medium", "large", "massive"],
      "help": {
        "why": "Expected scale drives architecture decisions around database choice, caching strategies, infrastructure design, and cost optimization. Over-engineering for scale adds complexity; under-engineering causes performance issues.",
        "examples": {
          "small": "<10K users, <100 requests/sec",
          "medium": "10K-100K users, 100-1K requests/sec",
          "large": "100K-1M users, 1K-10K requests/sec",
          "massive": ">1M users, >10K requests/sec"
        },
        "learnMore": "https://docs.mpkf.io/architecture-scale"
      },
      "validation": { 
        "enum": ["small", "medium", "large", "massive"] 
      },
      "tags": ["architecture", "operations"],
      "skip_if": null
    }
  ]
}

